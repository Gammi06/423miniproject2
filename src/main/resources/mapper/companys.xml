<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="site.metacoding.miniproject2.domain.companys.CompanysDao">

	<select id="findByIdToDetail" resultType="site.metacoding.miniproject2.dto.CompaysRespDto">
		SELECT c.id, c.company_name, c.address, c.email,
		c.region_code_name, c.member_count, c.intro
		FROM companys c
		WHERE id = #{id}
	</select>

	<insert id="insert" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO companys(users_id, company_name, address, email, company_number, photo, region_code_name, intro, years, member_count, created)
		VALUES(#{userId}, #{companyName},#{address}, #{email}, #{companyNumber}, NULL, #{regionCodeName}, #{intro}, #{years}, #{memberCount}, NOW())		
</insert>

	<select id="findByIdCompanysNumber" resultType="site.metacoding.miniproject2.domain.companys.CompanysDao">
		SELECT * FROM companys WHERE company_number = #{CompanysNumber}
	</select>

	<update id="updateChangeCompanys">
		UPDATE companys set 
		company_name= #{companysName},
		adress= #{address}, 
		email=#{email}, 
		region_code_name=#{regionCodeName},
		member_count=#{memberCount} 
		where id=#{id}
	</update>

	<delete id="deleteCompanys">
		DELETE FROM companys WHERE id = #{id}
	</delete>

	<null
		<null
			<null
				<null
					<null
						<null
							<HEAD
								<select id="findById" resultType="site.metacoding.miniproject2.dto$CompanysInsertRespDto">
		select * from companys where id = #{id}
	</select>
								=======
								<!-- 수현 작업함 -->
								<update id="updateCompanysPhoto">
		UPDATE companys SET
		intro = #{intro}
		where id=#{id}
	</update>
								<!-- 수현 작업완료 -->
								>>>>>>> 443d20b14595a8b8c5190d1e00246cb54cedfdfd
</mapper>